<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>rm_houserobbery</title>
		<style>
			* {
				font-family: 'Segoe UI', sans-serif;
				-webkit-font-smoothing: antialiased;
				-moz-osx-font-smoothing: grayscale;
			}

			body {
				user-select: none;
				overflow: hidden;
				width: 100%;
				height: 100vh;
				margin: 0;
				display: flex;
				align-items: flex-end;
				justify-content: flex-end;
			}

			#main {
				display: none;
				margin-bottom: 2%;
				margin-right: 1%;
				background: #21222c;
				padding: 0.4vw;
				border-radius: 2px;
				border: 2px solid #9ca3af;
			}

			#text {
				color: #c2c2c2;
				font-size: 1rem;
			}

			#bar {
				display: flex;
				justify-content: flex-end;
				width: 200px;
				height: 10px;
				margin-top: 1%;
				background: -webkit-linear-gradient(to right, #c3f027, #ff0000);
				background: -o-linear-gradient(to right, #c3f027, #ff0000);
				background: -moz-linear-gradient(to right, #c3f027, #ff0000);
				background: -ms-linear-gradient(to right, #c3f027, #ff0000);
				background: linear-gradient(to right, #c3f027, #ff0000);
			}

			#progress {
				width: 0%;
				height: 10px;
				background: #24272ba8;
				-webkit-transition: 100ms cubic-bezier(0.6, 0, 0.38, 1);
				-moz-transition: 100ms cubic-bezier(0.6, 0, 0.38, 1);
				-o-transition: 100ms cubic-bezier(0.6, 0, 0.38, 1);
				-ms-transition: 100ms cubic-bezier(0.6, 0, 0.38, 1);
				transition: 100ms cubic-bezier(0.6, 0, 0.38, 1);
			}
		</style>
	</head>
	<body>
		<div id="main">
			<div id="text">Noise:</div>
			<div id="bar">
				<div id="progress"></div>
			</div>
		</div>
		<script>
			document.addEventListener('DOMContentLoaded', function () {
				const main = document.getElementById('main');
				const progress = document.getElementById('progress');
				window.addEventListener('message', (event) => {
					if (event.data.action === 'show') {
						main.style.opacity = '0';
						main.style.display = 'block';
						setTimeout(() => {
							main.style.transition = 'opacity 0.5s';
							main.style.opacity = '1';
						}, 10);
						progress.style.width = '0%';
					} else if (event.data.action === 'hide') {
						main.style.transition = 'opacity 0.5s';
						main.style.opacity = '0';
						setTimeout(() => {
							main.style.display = 'none';
						}, 500);
					} else if (event.data.action === 'update') {
						progress.style.width = 100 - event.data.noise + '%';
					} else if (event.data.action === 'updateText') {
						document.getElementById('text').textContent = event.data.text + ':';
					}
				});
			});
		</script>
	</body>
</html>
